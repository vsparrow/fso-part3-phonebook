{"version":3,"sources":["components/Filter.js","components/Notification.js","services/persons.js","components/Person.js","components/Persons.js","components/PersonForm.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","onChange","event","setNewFilter","target","value","Notification","newNotification","fontColor","includes","notificationStyle","color","backgroundColor","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseurl","services_persons","axios","get","then","response","data","newObject","post","id","url","concat","delete","put","Person","_ref","person","persons","setPersons","setNewNotifcation","name","number","onClick","window","confirm","personService","setTimeout","newPersons","filter","p","updateState","Persons","newFilter","personsFiltered","toLowerCase","showPersons","length","map","components_Person","key","PersonForm","setNewName","setNewNumber","resetFields","onSubmit","preventDefault","newName","some","findPerson","find","updateData","newNumber","updatePerson","catch","error","newPerson","alert","type","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","useEffect","components_Notification","components_Filter","components_PersonForm","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4d70b2c8.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    \n    const handleFilterChange = (event) => {\n        props.setNewFilter(event.target.value)\n    }    \n    \n    return(\n            <div>\n                filter shown with\n                <input onChange={handleFilterChange}/>\n            </div>            \n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Notification = (props)=>{\n  //don't show if empty\n  if(props.newNotification === null){\n    return <div></div>\n  }\n\n  let fontColor = \"green\"\n  //'has already been removed from server'\n  if(props.newNotification.includes('has already been removed from')){fontColor='red'}\n\n  const notificationStyle = {\n    color: fontColor,\n    backgroundColor: \"lightgray\",\n    fontSize: 20,\n    borderStyle: \"solid\",\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10    \n  }\n  \n  \n  return (\n    <div style={notificationStyle}>\n        {props.newNotification}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n// const baseurl = 'https://json-server--vsparrow.repl.co/persons'\nconst baseurl = '/api/persons';\n// const baseurl = 'http://172.18.0.16:3001/api/persons'\n\nconst getAll = () => { \n  return axios.get(baseurl).then(response => response.data)\n}  \n\nconst create = newObject => {\n  return axios.post(baseurl, newObject).then(response=>response.data)\n}\n\nconst remove = id => {\n  const url = baseurl + `/${id}`\n  // return url\n  // console.log(url)\n  return axios.delete(url).then(response=>response.data)\n}\n\nconst update = (id,data) => {\n  const url = baseurl + `/${id}`\n  return axios.put(url, data).then(response=>response.data)\n}\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update\n}","import React from 'react'\nimport personService from '../services/persons'\n\nconst Person = ({person,persons,setPersons,setNewNotifcation})=>{\n  // setNewNotifcation = props.setNewNotifcation\n  \n  const updateState = ()=>{\n    const newPersons = persons.filter(p => p.id !== person.id )\n    setPersons(newPersons)\n  }\n\n\n  const handleClick = ()=>{\n    if (window.confirm(`Delete ${person.name}?`)){\n      personService\n      .remove(person.id)\n      .then(response => {\n        setNewNotifcation(`${person.name} deleted`)\n        setTimeout(()=>{setNewNotifcation(null)},5000)\n        updateState() \n      })\n    }\n  }\n\n  return(\n        <div >{person.name} {person.number}\n          <button onClick={handleClick}> delete </button>\n        </div>\n  )\n}\n\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = (props) => {\n    const newFilter = props.newFilter\n    const persons = props.persons\n    const setPersons = props.setPersons\n\n    const personsFiltered = persons.filter(person => {\n        return person.name.toLowerCase().includes(newFilter.toLowerCase())\n    })\n    \n    const personsToShow = newFilter.length === 0 ? persons : personsFiltered\n\n    const showPersons = personsToShow.map(person =>\n      <Person key={person.name} person={person} setPersons={setPersons} persons={props.persons} setNewNotifcation={props.setNewNotifcation}\n      />\n    )    \n    \n    return (\n        <div>{showPersons}</div>\n    )\n}\n\nexport default Persons","import React from 'react'\n// import axios from 'axios'\n// import Notification from './Notification'\nimport personService from '../services/persons'\n\nconst PersonForm = (props) => {\n    const persons = props.persons\n    const setPersons = props.setPersons\n    const setNewName = props.setNewName\n    const setNewNumber = props.setNewNumber\n    const setNewNotifcation = props.setNewNotifcation\n\n    const findPerson = ()=>{\n        const name = props.newName\n        return persons.some(person => person.name.toLowerCase()===name.toLowerCase())\n    }\n    \n    const findPersonID = name =>{\n        return persons.find(person => person.name.toLowerCase()===name.toLowerCase()).id\n    }\n\n    const updatePerson = data => persons.filter( person=> data.id !== person.id).concat(data)\n    const removePerson = name => persons.filter( person=> name !== person.name)\n\n    const resetFields = () => {\n      setTimeout(()=>{setNewNotifcation(null)},5000)\n      setNewName('')\n      setNewNumber('')     \n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        //dont add same name twice\n        if( findPerson()) {\n          if (window.confirm(`${props.newName} already exists in th phonebook. Replace the old number with a new one?`)) {\n            //find person id\n            const id = findPersonID(props.newName)\n            //update person \n            const updateData = {name: props.newName,number: props.newNumber}\n            //call person service to PUT/patch data\n            personService\n            .update(id, updateData)\n            //return data looks like: //{name: \"Arto Hella2\", number: \"23-68678\", id: 7}\n            .then(data =>  setPersons(updatePerson(data)) )\n            //update data on return\n            .then(()=>{ setNewNotifcation(`Updated ${props.newName}`); resetFields() })\n            .catch(error => {\n              setNewNotifcation(`Information of ${props.newName} has already been removed from the server`)\n              //remove deleted item from display\n              setPersons( removePerson(props.newName))\n              resetFields()\n            })\n          }\n          else {\n            //do nothing user chose to cancel transaction\n          }\n        }//if findPerson\n        //prevent adding empty items to persons\n        else if(props.newName.length > 0 && props.newNumber.length > 0 ){\n            const newPerson = {name: props.newName, number: props.newNumber}\n            personService\n            .create(newPerson)\n            .then(data => setPersons(persons.concat(data)))\n            setNewNotifcation(`Added ${props.newName}`)\n            resetFields()\n        }\n        else{\n            // console.log(\"Please enter a name and number before pressing enter\")\n            alert(\"Please enter a name and number\")\n        }\n    }\n    \n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    \n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n    \n    return(\n        <form onSubmit={addPerson}>\n            <div>name: <input value={props.newName} onChange={handleNameChange}/></div>\n            <div>number: <input value={props.newNumber} onChange={handleNumberChange}/></div>\n            <div><button type=\"submit\">add</button></div>\n        </form>\n        \n    )\n}\n\nexport default PersonForm","import React, { useState, useEffect } from 'react'\n// import axios from 'axios'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\n\nconst App = (props) => {\n\n  const [persons, setPersons] = useState([]) //new blank persons\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [newNotification, setNewNotifcation] = useState(null)\n  \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(data => setPersons(data))\n  }, [])\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification newNotification={newNotification} />\n      <Filter setNewFilter={setNewFilter} />\n      <h2>add a new</h2>\n      <PersonForm persons={persons} setPersons={setPersons} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber}\n        newNotification={newNotification}\n        setNewNotifcation={setNewNotifcation}\n      />\n\n      <h2>Numbers</h2>\n      <Persons newFilter={newFilter} persons={persons} setPersons={setPersons}\n        setNewNotifcation={setNewNotifcation}\n      />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}